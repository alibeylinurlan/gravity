<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Gravity</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body style="background-color: gray;">
    <div class="container rounded shadow p-0 mt-4" style="background-color: #eee;height: 600px;position: relative;">
        <div    id="ball" style="width: 20px;aspect-ratio: 1/1;background: rgb(77, 77, 77);border: solid thin gray;position: absolute;border-radius: 20px;">
            
        </div>
    </div>
</body>

<script>
    $(document).ready(function(){

        let perInterval = 1;
        
        let heightLimit = 580;
        let ballStartHeight = 100;
        let ballHeight = 100;
        let ballYDrection = 1; // -1

        let ball = $('#ball');
        ball.css({'margin-left' : '300px'});
        ball.css({'margin-top' : ballHeight + 'px'});

        let gravitySpeedWay = 0; // v = at
        let wayTime = 0; // v = at
        let lostSpeed = 40;
        let gravity = 5;
        let gravitySpeedWayMax;



        setInterval(function () { 
            if(ballYDrection == 1){
                ballHeight += gravitySpeedWay;
            }
            if(ballYDrection == -1){
                ballHeight -= gravitySpeedWay;
            }
            
            if( ballHeight >= heightLimit)
            {
                gravitySpeedWay -= 0.05;
                ballYDrection = -1;
                
            }
            if(ballHeight <= ballStartHeight)
            {
               ballYDrection = 1;
               wayTime = 0;
            }


            if (ballYDrection > 0) {
                wayTime += perInterval / 1000;
                gravitySpeedWay += gravity * wayTime * wayTime / 2;
            }
            if (ballYDrection < 0) {
                wayTime -= perInterval / 1000;
                gravitySpeedWay -= gravity * wayTime * wayTime / 2;
            }
            
            ball.css({ 'margin-top': ballHeight + 'px' });
         }, perInterval);
        
    });
</script>

</html>